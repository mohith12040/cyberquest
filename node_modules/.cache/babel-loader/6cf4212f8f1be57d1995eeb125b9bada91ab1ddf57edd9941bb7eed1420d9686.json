{"ast":null,"code":"var _jsxFileName = \"/Users/mohithneravati/Cyber quest/cyberquest/src/components/Signup.js\",\n  _s = $RefreshSig$();\n// src/components/Signup.js\nimport React, { useState } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { useNavigate, Link } from 'react-router-dom';\nimport AuthLayout from './AuthLayout';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Signup() {\n  _s();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    username: '',\n    phone: '',\n    email: '',\n    password: ''\n  });\n  const [errorMsg, setErrorMsg] = useState('');\n  const validatePhone = phone => /^\\+?[1-9]\\d{9,14}$/.test(phone);\n  const handleSignup = async e => {\n    var _data$user;\n    e.preventDefault();\n    setErrorMsg('');\n    if (!form.username.trim()) return setErrorMsg('Username is required');\n    if (!validatePhone(form.phone)) return setErrorMsg('Enter a valid phone number (e.g., +91XXXXXXXXXX)');\n    if (!form.email.includes('@')) return setErrorMsg('Enter a valid email');\n    if (form.password.length < 6) return setErrorMsg('Password must be at least 6 characters');\n    const {\n      data,\n      error\n    } = await supabase.auth.signUp({\n      email: form.email,\n      password: form.password\n    });\n    if (error) return setErrorMsg(error.message);\n    const userId = (_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.id;\n    if (!userId) return setErrorMsg('Signup failed. No user ID returned.');\n    const {\n      error: insertError\n    } = await supabase.from('Players').insert([{\n      id: userId,\n      username: form.username,\n      phone: form.phone,\n      email: form.email,\n      xp: 0,\n      level: 1\n    }]);\n    if (insertError) return setErrorMsg('Error saving profile: ' + insertError.message);\n    navigate('/');\n  };\n  return /*#__PURE__*/_jsxDEV(AuthLayout, {\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 30\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.5\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold mb-6 text-center text-purple-400\",\n        children: \"\\uD83C\\uDFAE Join CyberQuest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-400 mb-2 text-center\",\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSignup,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          className: \"w-full p-3 bg-gray-800 rounded\",\n          value: form.username,\n          onChange: e => setForm({\n            ...form,\n            username: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          placeholder: \"+91XXXXXXXXXX\",\n          className: \"w-full p-3 bg-gray-800 rounded\",\n          value: form.phone,\n          onChange: e => setForm({\n            ...form,\n            phone: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          className: \"w-full p-3 bg-gray-800 rounded\",\n          value: form.email,\n          onChange: e => setForm({\n            ...form,\n            email: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          className: \"w-full p-3 bg-gray-800 rounded\",\n          value: form.password,\n          onChange: e => setForm({\n            ...form,\n            password: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full bg-purple-600 hover:bg-purple-700 px-4 py-3 rounded font-semibold\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-sm text-gray-400 text-center\",\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"text-purple-300 underline\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(Signup, \"e/0dRH70T0yxro+ryLyrsDak47w=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","supabase","useNavigate","Link","AuthLayout","motion","jsxDEV","_jsxDEV","Signup","_s","navigate","form","setForm","username","phone","email","password","errorMsg","setErrorMsg","validatePhone","test","handleSignup","e","_data$user","preventDefault","trim","includes","length","data","error","auth","signUp","message","userId","user","id","insertError","from","insert","xp","level","children","div","initial","opacity","y","animate","transition","duration","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","to","_c","$RefreshReg$"],"sources":["/Users/mohithneravati/Cyber quest/cyberquest/src/components/Signup.js"],"sourcesContent":["// src/components/Signup.js\nimport React, { useState } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { useNavigate, Link } from 'react-router-dom';\nimport AuthLayout from './AuthLayout';\nimport { motion } from 'framer-motion';\n\nfunction Signup() {\n  const navigate = useNavigate();\n  const [form, setForm] = useState({ username: '', phone: '', email: '', password: '' });\n  const [errorMsg, setErrorMsg] = useState('');\n\n  const validatePhone = (phone) => /^\\+?[1-9]\\d{9,14}$/.test(phone);\n\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    setErrorMsg('');\n\n    if (!form.username.trim()) return setErrorMsg('Username is required');\n    if (!validatePhone(form.phone)) return setErrorMsg('Enter a valid phone number (e.g., +91XXXXXXXXXX)');\n    if (!form.email.includes('@')) return setErrorMsg('Enter a valid email');\n    if (form.password.length < 6) return setErrorMsg('Password must be at least 6 characters');\n\n    const { data, error } = await supabase.auth.signUp({\n      email: form.email,\n      password: form.password,\n    });\n\n    if (error) return setErrorMsg(error.message);\n    const userId = data.user?.id;\n    if (!userId) return setErrorMsg('Signup failed. No user ID returned.');\n\n    const { error: insertError } = await supabase.from('Players').insert([\n      {\n        id: userId,\n        username: form.username,\n        phone: form.phone,\n        email: form.email,\n        xp: 0,\n        level: 1,\n      }\n    ]);\n\n    if (insertError) return setErrorMsg('Error saving profile: ' + insertError.message);\n    navigate('/');\n  };\n\n  return (\n    <AuthLayout>\n      <motion.div\n        initial={{ opacity: 0, y: 30 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n      >\n        <h2 className=\"text-3xl font-bold mb-6 text-center text-purple-400\">ðŸŽ® Join CyberQuest</h2>\n        {errorMsg && <p className=\"text-red-400 mb-2 text-center\">{errorMsg}</p>}\n        <form onSubmit={handleSignup} className=\"space-y-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            className=\"w-full p-3 bg-gray-800 rounded\"\n            value={form.username}\n            onChange={(e) => setForm({ ...form, username: e.target.value })}\n            required\n          />\n          <input\n            type=\"tel\"\n            placeholder=\"+91XXXXXXXXXX\"\n            className=\"w-full p-3 bg-gray-800 rounded\"\n            value={form.phone}\n            onChange={(e) => setForm({ ...form, phone: e.target.value })}\n            required\n          />\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"w-full p-3 bg-gray-800 rounded\"\n            value={form.email}\n            onChange={(e) => setForm({ ...form, email: e.target.value })}\n            required\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"w-full p-3 bg-gray-800 rounded\"\n            value={form.password}\n            onChange={(e) => setForm({ ...form, password: e.target.value })}\n            required\n          />\n          <button className=\"w-full bg-purple-600 hover:bg-purple-700 px-4 py-3 rounded font-semibold\">\n            Sign Up\n          </button>\n        </form>\n        <p className=\"mt-4 text-sm text-gray-400 text-center\">\n          Already have an account? <Link to=\"/login\" className=\"text-purple-300 underline\">Log in</Link>\n        </p>\n      </motion.div>\n    </AuthLayout>\n  );\n}\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}